<app-loading></app-loading>
<ng-container *ngIf="popupVideo">
  <app-popup-video></app-popup-video>
</ng-container>

<app-form-register></app-form-register>
<div *ngIf="!this.userUI">
  <div class="top-navbar" [class.scrolled]="this.scrolled" [class.hide]="this.topnav.hide" [ngClass]="{ 'hovered': (this.currentNavMenu != '') }">
    <div>
      <img src="../assets/myras-logo.png" alt="">
    </div>
      
    <div>
      <ul class="navbar-items">
        <li (mouseup)="this.navClick($event)" *ngFor="let item of this.navItems">
          <span>{{ item.label }}</span>
        </li>
        <li class="login" routerLink="/login">
          <span>Login</span>
        </li>
      </ul>
    </div>
    
  </div>

  <div class="top-navbar-menu" #topmenu [ngClass]="{ 'hovered': (this.currentNavMenu != '') }">
    <div class="menu-wrapper">
      <div class="menu">
        <div class="menu-items">
          <ng-container *ngFor="let item of this.navItems">
            <ng-container *ngIf="currentNavMenu === item.label && item.menu">
              <div class="item" *ngFor="let menu of item.menu" (click)="menuNavigate(menu.path, menu.disabled)" [class.disabled]="menu.disabled">
                <!-- <div class="hitbox">
                  
                </div> -->
                <div class="icon">
                  <i [class]="menu.icon"></i>
                </div>
                <div class="text">
                  <div class="content">
                    <div class="header">
                      <span>{{ menu.label }}</span>
                    </div>
                    <div class="brief">
                      <span>{{ menu.brief }}</span>
                    </div>
                  </div>
                  
                </div>

                <div class="disabled-label">
                  <div class="label">
                    <span>Coming soon</span>
                  </div>
                </div>
              </div>
            </ng-container>
          </ng-container>
          
         
        </div>
      </div>
     <!--  <div class="fade"></div> -->
    </div>
    <div class="mouse-exit-region" (mouseenter)="navLeave()"></div>
  </div>

  <div class="body-wrapper">
    <router-outlet></router-outlet>
    
  </div>

  <div class="footer-wrapper" [class.hide]="this.footer.hide">
    <app-section-footer></app-section-footer>
  </div>

</div>

<div *ngIf="this.userUI">
  <div class="user-topbar" [ngStyle]="{'left': (this.showSidebar) ? '250px' : 0, 'width': (this.showSidebar) ? 'calc(100% - 250px)' : '100%'}">
    <div class="tbody">
      <div class="time">
        <span></span>
      </div>

      <div class="topbar-items">
        <div class="topbar-item btn-toggleside" (click)="this.toggleSidebar()">
          <i class="fas fa-bars"></i>
        </div>
        <div class="topbar-item" (click)="this.logout()">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </div>
      </div>
    </div>
    
  </div>

  
  <div class="left-menu" [ngStyle]="{'left': (this.showSidebar) ? 0 : '-250px'}">
    <div class="logo">
      <div class="myras-logo"></div>
    </div>
    <div class="accordion">
      <div class="section" *ngFor="let item of this.sidebar.items; let x = index;">
        <input [id]="'section-' + (x + 1)" type="radio" name="accordion-1" value="toggle"/>
        <label [for]="'section-' + (x + 1)" [routerLink]="item.path"><span> {{ item.label }} </span></label>
        <div class="content" *ngIf="item.childs">
          <ul>
            <li *ngFor="let child of item.childs" [routerLink]="child.path"><i [class]="child.icon"></i><span>{{ child.label }}</span></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <div class="user-body" [ngStyle]="{'margin-left': (this.showSidebar) ? '250px' : 0, 'width': (this.showSidebar) ? 'calc(100% - 250px)' : '100%'}">
    <router-outlet></router-outlet>
  </div>

</div>

